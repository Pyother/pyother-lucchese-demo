<div class="flex flex-1 flex-col">

    <!-- Desktop gallery -->
    <div class="hidden md:flex flex-1 flex-col">
        <template 
            x-for="(photo, index) in selectedProduct.photos" 
            class="hidden md:block"
        >
            <img :src="photo" :alt="`Photo ${index + 1}`">
        </template>
    </div>
    <!--  -->

    <!-- Mobile gallery -->
    <div 
        x-data="{
            selectedPhoto: null,
            get mainPhoto() {
                return this.selectedPhoto || selectedProduct.photos[0];
            }
        }"
        x-init="$watch('selectedProduct', () => selectedPhoto = null)"
        class="flex flex-col md:hidden"
    >
        <div>
            <img :src="mainPhoto" alt="Main photo" class="w-full object-cover" />
        </div>
        <div class="flex overflow-x-auto space-x-[1px] scrollbar-hide">
            <template x-for="(photo, index) in selectedProduct.photos.slice(1)" :key="index">
                <img :src="photo" :alt="`Thumbnail ${index + 2}`"
                    class="w-1/3 flex-shrink-0 object-cover cursor-pointer" @click="selectedPhoto = photo" />
            </template>
        </div>
    </div>
    <!--  -->

</div>